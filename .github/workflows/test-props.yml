name: Try Property Read

on:
  workflow_dispatch:

jobs:
  try_props:
    runs-on: ubuntu-latest
    name: Read a property
    steps:
      - name: Checkout source code
        uses: actions/checkout@v4
        with:
          fetch-tags: true

      - uses: touchlab/read-property@main
        id: testprop
        with:
          file: ./gradle.properties
          property: LIBRARY_VERSION

      - name: Print Output
        id: output
        run: echo "${{ steps.testprop.outputs.propVal }}"

      - uses: touchlab/autoversion@main
        id: autoversion
        with:
          versionBase: 0.1

      - name: Print Next Version
        id: outputversion
        run: echo "${{ steps.autoversion.outputs.nextVersion }}"